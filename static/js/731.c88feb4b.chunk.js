"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[731],{5731:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(1413),a=n(3433),i=n(9439),s=n(5705),c=n(2791),l=n(9126),o=n(7425),x=n(9434),p=n(7689),d=n(7287),u=n(2530),m=n(3554),f=n(7589),h=n(5395),g=n(98),j=n(5329),v=n(184),N=function(){var e=(0,x.I0)(),t=(0,x.v9)(u.yO),n=(0,x.v9)(j.x),N=(0,x.v9)(f.m),b=(0,c.useState)([]),y=(0,i.Z)(b,2),k=y[0],A=y[1],C=(0,c.useState)([]),Z=(0,i.Z)(C,2),F=Z[0],_=Z[1],w=(0,c.useState)([]),S=(0,i.Z)(w,2),I=S[0],O=S[1],P=(0,c.useState)([]),J=(0,i.Z)(P,2),D=J[0],R=J[1],T=(0,c.useState)(null),V=(0,i.Z)(T,2),z=V[0],L=V[1],U=(0,c.useRef)(),q=(0,p.s0)(),B=function(e){var t=e.target,n=t.value,r=t.checked,i=t.attributes.opt_val.value;A(r?function(e){return[].concat((0,a.Z)(e),[{name:n,optionId:i,options:[]}])}:k.filter((function(e){return e.name!==n})))},E=function(e){var t=e.target,n=t.value,i=t.checked,s=t.attributes.opt_val.value;i?(_((function(e){return[].concat((0,a.Z)(e),[n])})),A((function(e){return e.map((function(e){return e.optionId===s?(0,r.Z)((0,r.Z)({},e),{},{options:[].concat((0,a.Z)(e.options),[{name:n,price:null,optionId:s}])}):e}))}))):(_((function(e){return e.filter((function(e){return e!==n}))})),A((function(e){return e.map((function(e){return e.optionId===s?(0,r.Z)((0,r.Z)({},e),{},{options:e.options.filter((function(e){return e.name!==n}))}):e}))})))},H=function(e){var t=e.target,n=t.value,r=t.checked,i=t.attributes.filter_val.value;O(r?function(e){return[].concat((0,a.Z)(e),[{name:n,filterId:i,options:[]}])}:I.filter((function(e){return e!==n})))},K=function(e){var t=e.target,n=t.value,i=t.checked,s=t.attributes.filter_val.value;i?(R((function(e){return[].concat((0,a.Z)(e),[n])})),O((function(e){return e.map((function(e){return e.filterId===s?(0,r.Z)((0,r.Z)({},e),{},{options:[].concat((0,a.Z)(e.options),[{name:n,filterId:s}])}):e}))}))):(R((function(e){return e.filter((function(e){return e!==n}))})),O((function(e){return e.map((function(e){return e.filterId===s?(0,r.Z)((0,r.Z)({},e),{},{options:e.options.filter((function(e){return e.name!==n}))}):e}))})))};(0,c.useEffect)((function(){e((0,d.CP)()),e((0,m.Zj)()),e((0,g.FW)())}),[e]);return(0,v.jsxs)("div",{className:"flex items-start gap-[15px]",children:[(0,v.jsx)(s.J9,{initialValues:{title:"",desc:"",price:"",oldPrice:"",status:"",article:"",categoryName:"",hitSales:!1,characteristics:[],care:""},onSubmit:function(t,n){var r=n.resetForm,a=t.title,i=t.desc,s=t.price,c=t.oldPrice,l=t.status,o=t.article,x=t.categoryName,p=t.hitSales,d=t.characteristics,u=t.care,m=new FormData;if(m.append("title",a),m.append("desc",i),m.append("hitSales",p),m.append("care",u),m.append("price",s),c&&m.append("oldPrice",c),d&&m.append("characteristics",JSON.stringify(d)),m.append("status",l),m.append("article",o),m.append("categoryName",x),k&&m.append("options",JSON.stringify(k)),I&&m.append("filters",JSON.stringify(I)),z)for(var f=0;f<z.length;f++)m.append("imageItem",z[f]);console.log(m),e((0,h.jX)(m)),q("/admin/items"),r()},children:function(e){var r=e.values;return(0,v.jsxs)(s.l0,{className:"w-full flex flex-col gap-[15px]",children:[(0,v.jsxs)("div",{className:"grid grid-cols-1 items-center gap-[15px]",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsxs)("h3",{className:"text-[18px] font-medium",children:["Title item ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(s.gN,{name:"title",type:"text",placeholder:"Title item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]}),(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsxs)("h3",{className:"text-[18px] font-medium",children:["Article item ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(s.gN,{name:"article",type:"text",placeholder:"Article item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 items-center gap-[15px]",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsxs)("h3",{className:"text-[18px] font-medium",children:["Price item ",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsx)(s.gN,{name:"price",type:"text",placeholder:"Price item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]}),(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsx)("h3",{className:"text-[18px] font-medium",children:"Old price item"}),(0,v.jsx)(s.gN,{name:"oldPrice",type:"text",placeholder:"Old price  item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]})]}),(0,v.jsxs)("div",{className:"grid grid-cols-1 items-center gap-[15px]",children:[(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsxs)("h3",{className:"text-[18px] font-medium",children:["Choose category",(0,v.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,v.jsxs)(s.gN,{name:"categoryName",as:"select",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[18px] font-medium text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none",children:[(0,v.jsx)("option",{value:"",children:"--Choose a categoty--"}),null===t||void 0===t?void 0:t.map((function(e){var t=e.title,n=e._id;return(0,v.jsx)("option",{value:t,children:t},n)}))]})]}),(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsx)("h3",{className:"text-[18px] font-medium",children:"Choose status"}),(0,v.jsxs)(s.gN,{name:"status",as:"select",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none",children:[(0,v.jsx)("option",{value:"",children:"--Choose a status--"}),(0,v.jsx)("option",{value:"\u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456",children:"\u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"}),(0,v.jsx)("option",{value:"\u0417\u0430\u043a\u0456\u043d\u0447\u0443\u0454\u0442\u044c\u0441\u044f",children:"\u0417\u0430\u043a\u0456\u043d\u0447\u0443\u0454\u0442\u044c\u0441\u044f"}),(0,v.jsx)("option",{value:"\u041d\u0435\u043c\u0430\u0454 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456",children:"\u041d\u0435\u043c\u0430\u0454 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"})]})]})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-[24px] font-medium",children:"Choose options"}),(0,v.jsx)("ul",{className:"flex flex-col gap-[15px]",children:null===n||void 0===n?void 0:n.map((function(e,t){var r=e.optionValues,a=e.name,i=e._id;return(0,v.jsxs)("li",{children:[(0,v.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,v.jsx)(s.gN,{name:"".concat(n,"[").concat(t,"].").concat(a),opt_val:i,checked:null===k||void 0===k?void 0:k.find((function(e){return e.name===a})),type:"checkbox",value:a,onChange:B}),(0,v.jsx)("h3",{className:"text-[18px] font-semibold",children:a})]}),k.find((function(e){return e.name===a}))&&(null===r||void 0===r?void 0:r.map((function(e,t){var r=e.name;return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,v.jsx)(s.gN,{name:"".concat(n,"[").concat(t,"].").concat(r),opt_val:i,value:r,checked:F.find((function(e){return e===r})),onChange:E,type:"checkbox"}),(0,v.jsx)("h3",{className:"text-[16px] font-medium",children:r})]},t),(null===F||void 0===F?void 0:F.find((function(e){return e===r})))&&(0,v.jsx)("input",{type:"text",placeholder:"Type price for option",onChange:function(e){!function(e,t){var n=e.target.value;console.log(t),k.flatMap((function(e){return e.options})).find((function(e){return e.name===t})).price=Number(n)}(e,null===F||void 0===F?void 0:F.find((function(e){return e===r})))}})]})})))]},i)}))})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-[24px] font-medium",children:"Choose filters"}),(0,v.jsx)("ul",{children:null===N||void 0===N?void 0:N.map((function(e,t){var n=e.name,r=e.filterValue,a=e._id;return(0,v.jsxs)("li",{children:[(0,v.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,v.jsx)(s.gN,{name:"".concat(N,"[").concat(t,"].").concat(n),filter_val:a,value:n,type:"checkbox",checked:I.find((function(e){return e.name===n})),onChange:H}),(0,v.jsx)("h3",{className:"text-[18px] font-semibold",children:n})]}),I.find((function(e){return e.name===n}))&&(null===r||void 0===r?void 0:r.map((function(e,t){var n=e.name;return(0,v.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,v.jsx)(s.gN,{name:"".concat(N,"[").concat(t,"].").concat(n),value:n,filter_val:a,type:"checkbox",checked:D.find((function(e){return e===n})),onChange:K}),(0,v.jsx)("h3",{className:"text-[16px] font-medium",children:n})]})})))]},a)}))})]}),(0,v.jsx)("div",{children:(0,v.jsx)(s.F2,{name:"characteristics",render:function(e){var t;return(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsxs)("div",{className:"flex items-center gap-[15px]",children:[(0,v.jsx)("h2",{className:"text-[24px] font-bold",children:"Add characteristics"}),(0,v.jsx)("button",{type:"button",onClick:function(){return e.push({name:"",option:""})},className:"p-[15px] bg-[#343a40] rounded-[5px] w-[34px] h-[34px] relative",children:(0,v.jsx)(l.B8K,{className:"text-[#fff] text-[24px] absolute top-[5px] left-[5px]"})})]}),(0,v.jsx)("div",{className:"flex flex-col gap-[15px]",children:r.characteristics&&r.characteristics.length>0&&(null===(t=r.characteristics)||void 0===t?void 0:t.map((function(t,n){return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)("div",{className:"flex items-center gap-[10px]",children:[(0,v.jsxs)("label",{className:"flex flex-col gap-[10px]",children:["Name",(0,v.jsx)(s.gN,{name:"characteristics[".concat(n,"].name")})]}),(0,v.jsxs)("label",{className:"flex flex-col gap-[10px]",children:["Option",(0,v.jsx)(s.gN,{name:"characteristics[".concat(n,"].option")})]}),(0,v.jsx)("button",{type:"button",onClick:function(){return e.remove(n)},children:(0,v.jsx)(o.qy0,{className:"w-[24px] h-[24px] text-red-500"})})]})})})))})]})}})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{className:"text-[18px] font-medium",children:"Care for item"}),(0,v.jsx)(s.gN,{name:"care",as:"textarea",placeholder:"Care for item",className:"bg-transparent resize-none border border-solid border-[#7FAA84] w-full h-[350px] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]}),(0,v.jsxs)("div",{className:"flex flex-col gap-[15px] items-start",children:[(0,v.jsx)("h3",{className:"text-[24px] font-medium",children:"Hot sales"}),(0,v.jsx)(s.gN,{name:"hitSales",type:"checkbox"})]}),(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsx)("h3",{className:"text-[18px] font-medium",children:"Description item"}),(0,v.jsx)(s.gN,{name:"desc",as:"textarea",placeholder:"Description item",className:"bg-transparent resize-none border border-solid border-[#7FAA84] w-full h-[350px] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]}),(0,v.jsx)("button",{type:"submit",className:"py-[15px] px-[25px] bg-[#7FAA84] rounded-[5px] text-[#fff] text-[16px] font-medium w-[220px]",children:"Create item"})]})}}),(0,v.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,v.jsxs)("div",{children:[(0,v.jsx)("input",{type:"file",className:"hidden",multiple:!0,ref:U,onChange:function(e){var t=e.target.files,n=Array.from(t);L(n)}}),(0,v.jsx)("button",{type:"button",onClick:function(){return U.current.click()},className:"text-gray-300 bg-gray-600 text-sm flex justify-center items-center border-2 border-dotted cursor-pointer py-4 w-[350px]",children:"Add file"})]}),z&&(0,v.jsx)("ul",{className:"flex flex-col gap-[10px]",children:z.map((function(e,t){return(0,v.jsx)("li",{children:(0,v.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"w-[350px] h-[150px]"})},t)}))})]})]})},b=function(){return(0,v.jsxs)("div",{className:"p-[15px] flex flex-col gap-[25px] w-full",children:[(0,v.jsx)("h1",{className:"text-[24px] font-bold",children:"Add item"}),(0,v.jsx)(N,{})]})},y=function(){return(0,v.jsx)(b,{})}},7589:function(e,t,n){n.d(t,{A:function(){return a},m:function(){return r}});var r=function(e){return e.filterAdmin.filters},a=function(e){return e.filterAdmin.filter}},5329:function(e,t,n){n.d(t,{N:function(){return a},x:function(){return r}});var r=function(e){return e.option.options},a=function(e){return e.option.option}}}]);
//# sourceMappingURL=731.c88feb4b.chunk.js.map