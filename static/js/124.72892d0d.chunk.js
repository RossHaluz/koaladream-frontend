"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[124],{9124:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var a=n(3433),r=n(1413),i=n(9439),s=n(5705),c=n(2791),l=n(9434),o=n(7689),x=n(7287),d=n(2530),p=n(3554),u=n(7589),m=n(5395),f=n(98),h=n(5329),g=n(184),j=function(e){var t=e.item,n=t.title,j=t.desc,N=t.images,v=t.price,b=t.oldPrice,y=t.status,k=t.categoryName,A=t.article,S=t.options,Z=t.filters,C=t.hitSales,F=t._id,w=(0,l.I0)(),O=(0,l.v9)(d.yO),P=(0,l.v9)(h.x),_=(0,l.v9)(u.m),J=(0,c.useState)(JSON.parse(S).map((function(e){return e.name}))),I=(0,i.Z)(J,2),E=I[0],U=I[1],V=(0,c.useState)(JSON.parse(S).flatMap((function(e){return e.options}))),D=(0,i.Z)(V,2),R=D[0],L=D[1],M=(0,c.useState)(null),T=(0,i.Z)(M,2),z=T[0],G=T[1],H=(0,c.useState)(JSON.parse(Z).map((function(e){return e.name}))),W=(0,i.Z)(H,2),$=W[0],q=W[1],B=(0,c.useState)(JSON.parse(Z).flatMap((function(e){return e.options}))),K=(0,i.Z)(B,2),Q=K[0],X=K[1],Y=(0,c.useState)(N),ee=(0,i.Z)(Y,1)[0],te=(0,c.useState)(null),ne=(0,i.Z)(te,2),ae=ne[0],re=ne[1],ie=(0,c.useState)(null),se=(0,i.Z)(ie,2),ce=se[0],le=se[1],oe=(0,c.useRef)(),xe=(0,o.s0)();(0,c.useEffect)((function(){!function(){var e=E.map((function(e){return{name:e}})),t=R.map((function(e){return{name:e}})),n=e.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{options:t.map((function(e){return e.name}))})}));G(n)}()}),[R,E]),(0,c.useEffect)((function(){!function(){var e=$.map((function(e){return{name:e}})),t=Q.map((function(e){return{name:e}})),n=e.map((function(e){return(0,r.Z)((0,r.Z)({},e),{},{options:t.map((function(e){return e.name}))})}));re(n)}()}),[$,Q]);var de=function(e){var t=e.target,n=t.value,r=t.checked;U(r?function(e){return[].concat((0,a.Z)(e),[n])}:E.filter((function(e){return e!==n})))},pe=function(e){var t=e.target,n=t.value,r=t.checked;L(r?function(e){return[].concat((0,a.Z)(e),[n])}:R.filter((function(e){return e!==n})))},ue=function(e){var t=e.target,n=t.value,r=t.checked;q(r?function(e){return[].concat((0,a.Z)(e),[n])}:$.filter((function(e){return e!==n})))},me=function(e){var t=e.target,n=t.value,r=t.checked;X(r?function(e){return[].concat((0,a.Z)(e),[n])}:Q.filter((function(e){return e!==n})))};(0,c.useEffect)((function(){w((0,x.CP)()),w((0,p.Zj)()),w((0,f.FW)())}),[w]);var fe={title:n,desc:j,price:v,oldPrice:b,status:y,article:A,categoryName:k,hitSales:C};return(0,g.jsxs)("div",{className:"p-[15px] flex  gap-[15px]",children:[(0,g.jsxs)("div",{className:"w-full",children:[(0,g.jsx)("h1",{className:"text-[24px] font-bold",children:"Eddit item"}),(0,g.jsx)(s.J9,{initialValues:fe,onSubmit:function(e,t){var n=t.resetForm,a=e.title,r=e.desc,i=e.price,s=e.oldPrice,c=e.status,l=e.article,o=e.categoryName,x=e.hitSales,d=new FormData;if(d.append("title",a),d.append("desc",r),d.append("hitSales",x),d.append("price",i),d.append("oldPrice",s),d.append("status",c),d.append("article",l),d.append("categoryName",o),z&&d.append("options",JSON.stringify(z)),ae&&d.append("filters",JSON.stringify(ae)),ce)for(var p=0;p<ce.length;p++)d.append("updateImage",ce[p]);w((0,m.$G)({data:d,itemId:F})),xe("/admin/items"),n()},children:(0,g.jsxs)(s.l0,{className:"w-full flex flex-col gap-[15px]",children:[(0,g.jsxs)("div",{className:"grid grid-cols-1 items-center gap-[15px]",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsxs)("h3",{className:"text-[18px] font-medium",children:["Title item ",(0,g.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,g.jsx)(s.gN,{name:"title",type:"text",placeholder:"Title item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsxs)("h3",{className:"text-[18px] font-medium",children:["Article item ",(0,g.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,g.jsx)(s.gN,{name:"article",type:"text",placeholder:"Article item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 items-center gap-[15px]",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsxs)("h3",{className:"text-[18px] font-medium",children:["Price item ",(0,g.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,g.jsx)(s.gN,{name:"price",type:"text",placeholder:"Price item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsx)("h3",{className:"text-[18px] font-medium",children:"Old price item"}),(0,g.jsx)(s.gN,{name:"oldPrice",type:"text",placeholder:"Old price  item",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]})]}),(0,g.jsxs)("div",{className:"grid grid-cols-1 items-center gap-[15px]",children:[(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsxs)("h3",{className:"text-[18px] font-medium",children:["Choose category",(0,g.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,g.jsxs)(s.gN,{name:"categoryName",as:"select",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[18px] font-medium text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none",children:[(0,g.jsx)("option",{value:"",children:"--Choose a categoty--"}),null===O||void 0===O?void 0:O.map((function(e){var t=e.title,n=e._id;return(0,g.jsx)("option",{value:t,children:t},n)}))]})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsx)("h3",{className:"text-[18px] font-medium",children:"Choose status"}),(0,g.jsxs)(s.gN,{name:"status",as:"select",className:"bg-transparent border border-solid border-[#7FAA84] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none",children:[(0,g.jsx)("option",{value:"",children:"--Choose a status--"}),(0,g.jsx)("option",{value:"\u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456",children:"\u0412 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"}),(0,g.jsx)("option",{value:"\u0417\u0430\u043a\u0456\u043d\u0447\u0443\u0454\u0442\u044c\u0441\u044f",children:"\u0417\u0430\u043a\u0456\u043d\u0447\u0443\u0454\u0442\u044c\u0441\u044f"}),(0,g.jsx)("option",{value:"\u041d\u0435\u043c\u0430\u0454 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456",children:"\u041d\u0435\u043c\u0430\u0454 \u0432 \u043d\u0430\u044f\u0432\u043d\u043e\u0441\u0442\u0456"})]})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-[24px] font-medium",children:"Choose options"}),(0,g.jsx)("ul",{className:"flex flex-col gap-[15px]",children:null===P||void 0===P?void 0:P.map((function(e,t){var n=e.optionValues,a=e.name,r=e._id;return(0,g.jsxs)("li",{children:[(0,g.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,g.jsx)(s.gN,{name:"".concat(P,"[").concat(t,"].").concat(a),checked:null===E||void 0===E?void 0:E.find((function(e){return e===a})),type:"checkbox",value:a,onChange:de}),(0,g.jsx)("h3",{className:"text-[18px] font-semibold",children:a})]}),E.find((function(e){return e===a}))&&(null===n||void 0===n?void 0:n.map((function(e,t){var n=e.name;return(0,g.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,g.jsx)(s.gN,{name:"".concat(P,"[").concat(t,"].").concat(n),value:n,checked:R.find((function(e){return e===n})),onChange:pe,type:"checkbox"}),(0,g.jsx)("h3",{className:"text-[16px] font-medium",children:n})]},t)})))]},r)}))})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("h3",{className:"text-[24px] font-medium",children:"Choose filters"}),(0,g.jsx)("ul",{children:null===_||void 0===_?void 0:_.map((function(e,t){var n=e.name,a=e.filterValue,r=e._id;return(0,g.jsxs)("li",{children:[(0,g.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,g.jsx)(s.gN,{name:"".concat(_,"[").concat(t,"].").concat(n),value:n,type:"checkbox",checked:$.find((function(e){return e===n})),onChange:ue}),(0,g.jsx)("h3",{className:"text-[18px] font-semibold",children:n})]}),$.find((function(e){return e===n}))&&(null===a||void 0===a?void 0:a.map((function(e,t){var n=e.name;return(0,g.jsxs)("label",{className:"flex items-center gap-[10px]",children:[(0,g.jsx)(s.gN,{name:"".concat(_,"[").concat(t,"].").concat(n),value:n,type:"checkbox",checked:Q.find((function(e){return e===n})),onChange:me}),(0,g.jsx)("h3",{className:"text-[16px] font-medium",children:n})]})})))]},r)}))})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-[15px] items-start",children:[(0,g.jsx)("h3",{className:"text-[24px] font-medium",children:"Hot sales"}),(0,g.jsx)(s.gN,{name:"hitSales",type:"checkbox"})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsx)("h3",{className:"text-[18px] font-medium",children:"Description item"}),(0,g.jsx)(s.gN,{name:"desc",as:"textarea",placeholder:"Description item",className:"bg-transparent resize-none border border-solid border-[#7FAA84] w-full h-[350px] rounded-[5px] px-[15px] py-[15px] text-[16px] text-[#484848]/[.50] tracking-[0.32px] leading-[24px] outline-none"})]}),(0,g.jsx)("button",{type:"submit",className:"py-[15px] px-[25px] bg-[#7FAA84] rounded-[5px] text-[#fff] text-[16px] font-medium w-[220px]",children:"Update item"})]})})]}),(0,g.jsxs)("div",{className:"flex flex-col gap-[15px]",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("input",{type:"file",className:"hidden",multiple:!0,ref:oe,onChange:function(e){var t=e.target.files,n=Array.from(t);le(n)}}),(0,g.jsx)("button",{type:"button",onClick:function(){return oe.current.click()},className:"text-gray-300 bg-gray-600 text-sm flex justify-center items-center border-2 border-dotted cursor-pointer py-4 w-[350px]",children:"Add file"})]}),ce?(0,g.jsx)("ul",{className:"flex flex-col gap-[10px]",children:ce.map((function(e,t){return(0,g.jsx)("li",{children:(0,g.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"w-[350px] h-[150px]"})},t)}))}):(0,g.jsx)(g.Fragment,{children:null===ee||void 0===ee?void 0:ee.map((function(e){return(0,g.jsx)("div",{className:"w-[350px]",children:(0,g.jsx)("img",{src:e,alt:"Item img"})},e)}))})]})]})},N=n(1429),v=function(){var e=(0,l.I0)(),t=(0,l.v9)(N.sp),n=(0,o.UO)().itemId;return(0,c.useEffect)((function(){e((0,m.rV)(n))}),[e,n]),(0,g.jsx)(g.Fragment,{children:t&&(0,g.jsx)(j,{item:t})})}},7589:function(e,t,n){n.d(t,{A:function(){return r},m:function(){return a}});var a=function(e){return e.filterAdmin.filters},r=function(e){return e.filterAdmin.filter}},5329:function(e,t,n){n.d(t,{N:function(){return r},x:function(){return a}});var a=function(e){return e.option.options},r=function(e){return e.option.option}}}]);
//# sourceMappingURL=124.72892d0d.chunk.js.map